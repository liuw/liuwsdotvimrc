" Vim configuration file.
" Wei Liu <liuw at liuw dot name>
" Keep everything as simple as possible.
"
" How to use on a fresh installed machine:
" 1. git submodule init
" 2. git submodule update
" 3. ln -s /path/to/dotvimrc ~/.vimrc
" 4. vim +BundleInstall +qall

set nocompatible
set nobackup

" searching options
set hlsearch incsearch
set ignorecase smartcase

" general user interface
set number
set ruler
set showcmd
set wildmenu wildmode=list:longest
set showmatch
set linebreak
set laststatus=2
syntax on
colorscheme desert

" highlight on overlength
if exists('+colorcolumn')
	set colorcolumn=80
	highlight link OverLength colorcolumn
	" exec 'match OverLength /\%'.&cc.'v.\+/'
endif

" inspect first and last 10 lines for Vim modeline
" help modeline for more information
set modelines=10

" enable Vim to edit multiple files
set hidden

" bigger command history
set history=1000

" text editing, can be override by modeline
set textwidth=0
set nowrap
set autoread autowrite
set clipboard+=unnamed " yanks go to clipboard

" customized mappings
imap jk <Esc>:w<CR>
map <UP> gk
map <DOWN> gj
nmap <silent> <tab> :bn<CR>
nmap <silent> <s-tab> :bp<CR>
nnoremap ; :
let mapleader = ','
map <C-J> <C-W>j<C-W>_
map <C-K> <C-W>k<C-W>_
map <C-H> <C-W>h<C-W>_
map <C-L> <C-W>l<C-W>_
" clear highlighted search
nmap <silent> <leader>/ :nohlsearch<CR>

" auto change directory to current buffer
" set autochdir
" autocmd BufEnter * silent! lcd %:p:h " make sure plugins work

" commands and auto commands
"
command! W exec 'w !sudo tee % > /dev/null' | e!
autocmd BufRead,BufNewFile {*.md,*.mkd,*.markdown} set ft=markdown
autocmd BufRead,BufNewFile {COMMIT_EDITMSG} set ft=gitcommit tw=78 wrap

"
" vundle section start, disable filetype first (required)
" use vundle to manage plugins :-)
filetype off
set runtimepath+=~/git/liuwsdotvimrc/vundle/
call vundle#rc()

" let Vundle manage Vundle, required
Bundle 'gmarik/vundle'

Bundle 'gtags.vim'
Bundle 'msanders/snipmate.vim'
Bundle 'scrooloose/nerdtree'
Bundle 'scrooloose/nerdcommenter'
Bundle 'Lokaltog/vim-easymotion'
" Bundle 'Lokaltog/vim-powerline'
Bundle 'mileszs/ack.vim'

Bundle 'L9'
Bundle 'FuzzyFinder'

Bundle 'kien/ctrlp.vim'
" Bundle 'tpope/vim-rails'

" vundle section end
"

" enable filetype plugin and indent files loading
filetype plugin on
filetype indent on
